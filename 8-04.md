# Домашнее задание к занятию "Виртуализация сетевых функций"   


### Цель задания

В результате выполнения задания вы научитесь:
1. Производить установку гипервизора второго типа.
2. Устанавливать ВМ, организовывать связность до удаленного ВПН сервера.


------

### Инструкция к выполнению домашнего задания

1. Скачайте [Шаблон для домашнего задания](https://u.netology.ru/backend/uploads/lms/content_assets/file/281/%D0%A1%D0%94%D0%95%D0%9B%D0%90%D0%99%D0%A2%D0%95_%D0%9A%D0%9E%D0%9F%D0%98%D0%AE_-_%D0%A8%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD_%D0%B4%D0%BB%D1%8F_%D0%B4%D0%BE%D0%BC%D0%B0%D1%88%D0%BD%D0%B5%D0%B3%D0%BE_%D0%B7%D0%B0%D0%B4%D0%B0%D0%BD%D0%B8%D1%8F_1.1._%D0%9D%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8_-_%D0%A4%D0%B0%D0%BC%D0%B8%D0%BB%D0%B8%D1%8F_%D0%98%D0%BC%D1%8F.docx) на своё устройство.
2. Откройте скачанный файл на личном диске в Google.
3. В названии файла введите корректное название лекции и ваши фамилию и имя.
4. Зайдите в «Настройки доступа» и выберите доступ «Просматривать могут все в интернете, у кого есть ссылка». Инструкция «Как предоставить доступ к файлам и папкам на Google Диске» [по ссылке](https://support.google.com/docs/answer/2494822?hl=ru&co=GENIE.Platform%3DDesktop).
5. Скопируйте текст задания в свой документ.
6. Выполните задание, запишите ответы и приложите необходимые скриншоты в свой Google-документ.
7. Для проверки домашнего задания отправьте ссылку на ваш Google-документ в личном кабинете.
8. Любые вопросы по решению задач можно задать в чате учебной группы, в чате поддержки или в разделе «Вопросы по заданию» в личном кабинете.
9. Подробнее о работе с Google-документами и загрузке решения на проверку можно найти в [«Руководстве по работе с материалами для обучения»](https://l.netology.ru/instruktsiya-po-materialami-dlya-obucheniya)

----

### Инструменты/ дополнительные материалы, которые пригодятся для выполнения задания

Материалы занятия "Настройка виртуального рабочего места" помогут вам установить и настроить VirtualBox.  
Занятие можно найти в личном кабинете в модуле "IT-системы и Linux (с самопроверкой)". 

----

## Лабораторная работа "Виртуализация сетевых функций"


### Задание 1

Выполнить установку VirtualBox на хост машину с ОС Windows:
1. Перейти на сайт по [ссылке](https://www.oracle.com/cis/virtualization/technologies/vm/downloads/virtualbox-downloads.html) и скачать необходимый дистрибутив. 
2. Выполнить установку программы на свою хост машину.

*Приложить скрин запущенной программы.*

---

### Задание 2

Выполнить установку и запуск ВМ Mikrotik CHR в VirtualBox:
1. Перейти на сайт по [ссылке](https://mikrotik.com/download), далее перейти в секцию Cloud Hosted Router и скачать образ виртуального маршрутизатора, необходимо выбрать OVA версии из 6.49.6 stable. 
2. Выполнить импорт скачанного ранее образа с помощью двойного клика по файлу. В окне “Укажите параметры импорта” можно не вносить изменения.
3. После импорта, ВМ создана. Необходимо зайти в ее настройки, в секцию “Сеть” и указать во вкладке “Адаптер 1” реальный интерфейс вашего ПК, ноута (который подключен к интернету), а также “Тип подключения” указать “Сетевой мост”.
4. Нажимаем “Запустить”. Откроется окно терминала, в котором выполняем логин в систему и проверяем получение динамического ip из вашей реальной подсети. Логопасс admin, пароль пустой. Команда проверки ip:  ip address print. Выполнить трассировку до гугла: tool traceroute 8.8.8.8.

*Приложить скрин консоли c выводом ip и трассировкой.*

---

### Задание 3

Выполнить установку и запуск ВМ Kali Linux в VirtualBox:
1. Перейти на сайт по [ссылке](https://www.kali.org/get-kali/#kali-platforms) и скачать образ Kali Linux, необходимо выбрать версию Virtual Machines, для VirtualBox. Разрядность 32/64 не имеет значения. Начнется загрузка образа OVA. 
2. Выполнить импорт скачанного ранее образа с помощью двойного клика по файлу. В окне “Укажите параметры импорта” можно не вносить изменения.
3. После импорта, ВМ создана. Необходимо зайти в ее настройки, в секцию “Сеть” и указать во вкладке “Адаптер 1” реальный интерфейс вашего ПК, ноута (который подключен к интернету), а также “Тип подключения” указать “Сетевой мост”.
4. Нажимаем “Запустить”. Откроется окно с GUI запуском системы, в котором выполняем логин в систему и проверяем получение динамического ip из вашей реальной подсети. Логопасс kali, пароль kali. Команда проверки ip:  ip a, ip route. Выполнить трассировку до гугла: traceroute 8.8.8.8. Трафик должен идти через ваш маршрутизатор (домашний, офисный).

*Приложить скрин консоли c выводом ip и трассировкой.*

---

### Задание 4

#### Подготовка

Выполнить установку ранее созданной конфигурации для виртуального маршрутизатора: 
1. Перейти на сайт по [ссылке](https://disk.yandex.ru/d/aWbbWEZha0E6Rw) и скачать бэкап файл для Mikrotik.
2. Открыть в браузере веб страницу ранее запущенного маршрутизатора, http://ip_микротика который был получен в Задании 2. Пройти авторизацию после чего попадём в веб меню маршрутизатора.
3. Выполнить импорт скачанного ранее бэкап файла. Переходим в WebFig режим (кнопочки сверху), по левому меню перейти в Files и загрузить бэкап файл через меню Upload.
4. После загрузки бэкап файла, необходимо его применить, кликаем на файл и нажимаем на кнопку Restore два раза. После этого маршрутизатор уйдет в перезагрузку.
5. После загрузки, доступ на маршрутизатор будет ограничен, но он и не потребуется более.

#### Задание

Выполнить перенаправление трафика с ВМ Kali Linux в ранее запущенный виртуальный маршрутизатор: 
1. Запускаем ВМ Kali Linux, открываем консоль с рабочим столом ВМ.
2. На текущий момент, шлюз установлен при помощи DHCP сервера в реальной локальной сети. Для перенаправления трафика ВМ в сторону виртуального маршрутизатора, необходимо произвести ручную настройку ip адреса, маски, шлюза и днс на ВМ Kali Linux, т.е. в качестве шлюза установить ip который “висит” на виртуальном маршрутизаторе. Выполнить перезагрузку ВМ Kali Linux.
3. После перезагрузки ВМ Kali LInux, снова проверить шлюз, командой ip route, и выполнить проверку внешнего ip, командой curl 2ip.ru. Внешний ip должен смениться, это означает, что впн туннель работает на виртуальном маршрутизаторе и трафик с ВМ Kali Linux выходит в интернет в удаленного ВПН сервера.

*Приложить скрин внешнего публичного адреса, а также трассировку до 8.8.8.8. *

При работе через виртуальный маршрутизатор, скорость будет ограничена в 1 мбит/с лицензией.

---

### Правила приема домашнего задания

В личном кабинете отправлены:

- ссылка на документ (Google Doc) с выполненным заданием. В документе настроены права доступа “Просматривать могут все в Интернете, у кого есть ссылка”;
- файл в формате .png или .jpg.

### Критерии оценки

Зачет - выполнены все задания, ответы даны в развернутой форме, приложены соответствующие скриншоты и файлы проекта, в выполненных заданиях нет противоречий и нарушения логики.

На доработку - задание выполнено частично или не выполнено, в логике выполнения заданий есть противоречия, существенные недостатки.
